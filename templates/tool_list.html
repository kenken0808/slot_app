<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>けんけんスロット分析ツール一覧</title>

  <!-- OGP / Twitterカード -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="けんけんスロット分析ツール一覧">
  <meta property="og:description" content="機種ごとのnote紹介記事とツールへのリンクをまとめたポータルページです。">
  <meta property="og:url" content="https://kenkentools.com/tool/list">
  <meta property="og:image" content="{{ url_for('static', filename='ogp.jpg', _external=True) }}">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="けんけんスロット分析ツール一覧">
  <meta name="twitter:description" content="機種ごとのnote紹介記事とツールへのリンクをまとめたポータルページです。">
  <meta name="twitter:image" content="{{ url_for('static', filename='ogp.jpg', _external=True) }}">

  <!-- ✅ GA4：ページビューのみ -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-HXM85ZV043"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-HXM85ZV043', { 'page_path': '/tool/list', 'page_title': 'ツール一覧' });
  </script>

  <style>
    body {
      font-family: "M PLUS Rounded 1c", system-ui, -apple-system, Segoe UI, Roboto, "Hiragino Kaku Gothic ProN", "Noto Sans JP", Meiryo, sans-serif;
      background: #f9fafb;
      margin: 40px 16px 60px;
      color: #333;
    }

    /* タイトル部分 */
    .title-wrap {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 12px;
      margin-bottom: 24px;
    }
    .title-wrap img {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      object-fit: cover;
      box-shadow: 0 2px 5px rgba(0,0,0,.15);
    }
    h1 {
      margin: 0;
      font-size: 18px; /* ✅ 少し小さく */
      letter-spacing: .3px;
      text-align: center;
    }

    /* 検索欄 */
    #search {
      display: block;
      margin: 0 auto 18px;
      padding: 10px 12px;
      width: 100%;
      max-width: 520px;
      border: 1px solid #d1d5db;
      border-radius: 10px;
      background: #fff;
      outline: none;
      font-size: 16px;      /* ✅ ズーム防止（14→16） */
      -webkit-text-size-adjust: 100%; /* ✅ iOS対策（念のため） */
    }

    /* テーブル全体 */
    .table-wrap {
      max-width: 1080px;
      margin: 0 auto;
      background: #fff;
      border: 1px solid #e5e7eb;
      border-radius: 14px;
      overflow: hidden;
      box-shadow: 0 6px 20px rgba(0,0,0,.06);
    }
    table {
      width: 100%;
      border-collapse: collapse;
      text-align: center;
    }
    thead th {
      background: #f3f4f6;
      font-weight: 700;
      font-size: 14px;
      color: #374151;
      padding: 14px 12px;
      border-bottom: 1px solid #e5e7eb;
      text-align: center;
    }
    tbody td {
      border-bottom: 1px solid #e5e7eb;
      padding: 14px 12px;
      font-size: 15px;
      vertical-align: middle;
      text-align: center;
    }
    tbody tr:hover {
      background: #f9fafc;
    }

    /* 機種名 */
    .name {
      font-weight: 600;
      text-align: center;
      font-size: 12px; /* ✅ 少し小さく */
    }

    /* リンクボタン共通 */
    a.link {
      display: inline-block;
      width: 75px;             /* ✅ 幅をやや小さく */
      text-align: center;
      padding: 4px 0;          /* ✅ 上下の余白も少し減らす */
      border: 1px solid #2563eb;
      color: #2563eb;
      text-decoration: none;
      border-radius: 8px;      /* ✅ 少し角も小さくして一体感 */
      font-weight: 600;
      font-size: 12.5px;       /* ✅ 若干文字もコンパクトに */
      transition: 0.1s;
    }
    a.link:hover {
      background: #2563eb;
      color: #fff;
    }

    /* スマホでも横並び維持 */
    @media (max-width:680px){
      thead { display: none; }

      table {
        display: table;
        width: 100%;
        border-collapse: collapse;
      }
      tbody tr {
        display: table-row;
        border-bottom: 1px solid #e5e7eb;
      }
      tbody td {
        display: table-cell;
        text-align: center;
        padding: 12px 8px;
        border-bottom: 1px solid #e5e7eb;
      }
      tbody td[data-label]::before { display: none; }

      .title-wrap img { width: 32px; height: 32px; }
      h1 { font-size: 16px; } /* ✅ モバイルではさらに少し小さく */
    }
  </style>
</head>

<body>
  <!-- タイトル両側にアイコン -->
  <div class="title-wrap">
    <img src="{{ url_for('static', filename='icon.jpg') }}" alt="icon left">
    <h1>けんけんスロット分析ツール一覧</h1>
    <img src="{{ url_for('static', filename='icon.jpg') }}" alt="icon right">
  </div>

  <input id="search" type="search" placeholder="機種名で検索">

  <div class="table-wrap">
    <table id="tool-table" aria-label="ツール一覧">
      <thead>
        <tr>
          <th>機種名</th>
          <th>紹介記事</th>
          <th>ツール</th>
        </tr>
      </thead>
      <tbody id="tool-tbody"></tbody>
    </table>
  </div>

  <script>
    const toolsData = [
      {
        name: "L ネオプラネット",
        note: "https://note.com/kenslodata/n/nfbb1961157e5",
        url:  "https://kenkentools.com/neoplanet/paid"
      },
      {
        name: "L 絶対衝激Ⅳ<br><small>PW:7777</small>",
        note: "https://note.com/kenslodata/n/n1a880ae74aff",
        url:  "https://kenkentools.com/syogeki4/paid"
      },
      {
        name: "L とある科学の超電磁砲2",
        note: "https://note.com/kenslodata/n/n471a3dc95649",
        url:  "https://kenkentools.com/railgun2/paid"
      },
      {
        name: "L 革命機ヴァルヴレイヴ2",
        note: "https://note.com/kenslodata/n/nf540daedf4b3",
        url:  "https://kenkentools.com/vvv2/paid"
      },
      {
        name: "L 荒野のコトブキ飛行隊<br><small>PW:7777</small>",
        note: "https://note.com/kenslodata/n/n9475b350635e",
        url:  "https://kenkentools.com/kotobuki/paid"
      },
      {
        name: "L バベル<br><small>PW:7777</small>",
        note: "https://note.com/kenslodata/n/n9edc151b54fc",
        url:  "https://kenkentools.com/babel/paid"
      },
      {
        name: "L 主役は銭形5",
        note: "https://note.com/kenslodata/n/n14c453aae356",
        url:  "https://kenkentools.com/zenigata5/paid"
      },
      {
        name: "L 新鬼武者3",
        note: "https://note.com/kenslodata/n/n592917017aae",
        url:  "https://kenkentools.com/onimusya/paid"
      },
      {
        name: "L アズールレーン THE ANIMETION",
        note: "https://note.com/kenslodata/n/n38b6be48a9da",
        url:  "https://kenkentools.com/azurlane/paid"
      },
      {
        name: "L ダーリン・イン・ザ・フランキス",
        note: "https://note.com/kenslodata/n/n6139b4291e69",
        url:  "https://kenkentools.com/franxx/paid"
      },
      {
        name: "L 咲-Saki-頂上決戦",
        note: "https://note.com/kenslodata/n/nda1d15f56223",
        url:  "https://kenkentools.com/saki/paid"
      },
      {
        name: "L ベルセルク無双<br><small>PW:7777</small>",
        note: "https://note.com/kenslodata/n/nc10c9f9784f9",
        url:  "https://kenkentools.com/berserk/paid"
      },
      {
        name: "L ソードアート・オンライン<br><small>PW:7777</small>",
        note: "https://note.com/kenslodata/n/n34242a06a7f4",
        url:  "https://kenkentools.com/sao/paid"
      },
      {
        name: "L 主役は銭形4<br><small>PW:7777</small>",
        note: "https://note.com/kenslodata/n/ndc323a0f3044",
        url:  "https://kenkentools.com/zenigata4/paid"
      },
      {
        name: "L ゴブリンスレイヤー<br><small>PW:7777</small>",
        note: "https://note.com/kenslodata/n/n32a75e8fe72c",
        url:  "https://kenkentools.com/gobsla/paid"
      },
      {
        name: "L 北斗の拳<br><small>PW:7777</small>",
        note: "https://note.com/kenslodata",
        url:  "https://kenkentools.com/hokuto/paid"
      }
    ];

    const tbody = document.getElementById("tool-tbody");
    const search = document.getElementById("search");

    function makeLink(href, label) {
      return `<a class="link" href="${href}" target="_blank" rel="noopener noreferrer">${label}</a>`;
    }

    function renderTable(query = "") {
      tbody.innerHTML = "";
      const q = query.trim().toLowerCase();

      toolsData
        .filter(item => !q || item.name.toLowerCase().includes(q))
        .forEach(item => {
          const tr = document.createElement("tr");
          tr.innerHTML = `
            <td class="name" data-label="機種名">${item.name}</td>
            <td data-label="紹介記事">${makeLink(item.note, "note")}</td>
            <td data-label="ツール">${makeLink(item.url, "ツール")}</td>
          `;
          tbody.appendChild(tr);
        });
    }

    search.addEventListener("input", e => renderTable(e.target.value));
    renderTable();
  </script>
</body>
</html>
